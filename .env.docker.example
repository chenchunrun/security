# =============================================================================
# Security Triage System - Docker Environment Configuration
# =============================================================================
# Copy this file to .env before running docker-compose
# Usage: cp .env.docker.example .env
#
# IMPORTANT: Update these values for production use!
# =============================================================================

# =============================================================================
# Infrastructure - Database
# =============================================================================
DB_PASSWORD=triage_password_change_me_in_production
DATABASE_URL=postgresql+asyncpg://triage_user:${DB_PASSWORD}@postgres:5432/security_triage

# =============================================================================
# Infrastructure - Redis
# =============================================================================
REDIS_PASSWORD=redis_password_change_me_in_production
REDIS_URL=redis://@redis:6379/0

# =============================================================================
# Infrastructure - RabbitMQ
# =============================================================================
RABBITMQ_PASSWORD=rabbitmq_password_change_me_in_production
RABBITMQ_URL=amqp://admin:${RABBITMQ_PASSWORD}@rabbitmq:5672/

# =============================================================================
# Infrastructure - Grafana (Monitoring)
# =============================================================================
GRAFANA_PASSWORD=grafana_password_change_me_in_production

# =============================================================================
# LLM API Configuration (Required)
# =============================================================================
# Get your API key from: https://help.aliyun.com/zh/dashscope/developer-reference/quick-start

LLM_API_KEY=sk-your-qwen-api-key-here
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# Alternative: Use OpenAI
# LLM_API_KEY=sk-your-openai-api-key-here
# LLM_BASE_URL=

# Alternative: Use other OpenAI-compatible API
# LLM_API_KEY=your-api-key
# LLM_BASE_URL=https://your-api-endpoint.com/v1

# =============================================================================
# Private MaaS Configuration (Optional - for production)
# =============================================================================
# DeepSeek-V3 (for complex analysis)
DEEPSEEK_BASE_URL=http://internal-maas.deepseek/v1
DEEPSEEK_API_KEY=internal-key-123

# Qwen3 (for general analysis)
QWEN_BASE_URL=http://internal-maas.qwen/v1
QWEN_API_KEY=internal-key-456

# =============================================================================
# Threat Intelligence APIs (Optional - enables additional features)
# =============================================================================
# Get your keys from:
# VirusTotal: https://www.virustotal.com/
# Abuse.ch: https://abuse.ch/

VIRUSTOTAL_API_KEY=your_virustotal_api_key
ABUSECH_API_KEY=your_abuse_ch_api_key

# =============================================================================
# Vector Store Configuration
# =============================================================================
CHROMA_PERSIST_DIR=/app/data/vector_store
CHROMA_HOST=chromadb
CHROMA_PORT=8000

# =============================================================================
# Application Configuration
# =============================================================================
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO
LOG_DIR=/app/logs

# =============================================================================
# Security Configuration
# =============================================================================
# IMPORTANT: Change this in production!
JWT_SECRET_KEY=change-this-to-a-random-secret-key-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# Notification Configuration (Optional)
# =============================================================================
# Email Notifications (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Slack Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# =============================================================================
# Monitoring (Optional)
# =============================================================================
ENABLE_METRICS=true
METRICS_PORT=9091
PROMETHEUS_URL=http://prometheus:9090

# =============================================================================
# Development Settings
# =============================================================================
DEBUG=false
