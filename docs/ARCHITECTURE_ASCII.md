# Security Alert Triage System - Architecture Overview

## Complete System Architecture (ASCII)

```
                                    ┌─────────────────────────────────────────────────────────┐
                                    │                   CLIENT LAYER                      │
                                    │  Web Browser │ Mobile │ API Tools │ SIEM Integration│
                                    └────────────────────┬────────────────────────────────────────┘
                                                          │
                                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           KONG API GATEWAY                                        │
│  ┌────────────────────────────────────────────────────────────────────────────┐  │
│  │  Auth │ Rate Limit │ SSL │ Logging │ CORS │ Caching                     │  │
│  └────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                 │
│  Routes: /auth/* → /alerts/* → /metrics/* → /reports/* → /config/* →         │
│           /ai/* → /workflows/* → /notifications/*                                │
└───────────────────────────────────┬─────────────────────────────────────────────┘
                                    │
                ┌───────────────────┴───────────────────┐
                │                                       │
                ▼                                       ▼
┌───────────────────────┐                   ┌───────────────────────┐
│   WEB DASHBOARD       │                   │   MICROSERVICES      │
│   React/TypeScript    │                   │   FastAPI/Python     │
│   Port: 3000          │                   │                       │
└───────────────────────┘                   └───────────┬───────────┘
                                                        │
            ┌─────────────────────────────────────────────────────────────────┐
            │                     MESSAGE QUEUE (RabbitMQ)                    │
            │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐    │
            │  │alert.new  │  │alert.norm│  │alert.triag│  │workflow.*│    │
            │  └─────┬────┘  └─────┬────┘  └─────┬────┘  └─────┬────┘    │
            └────────┼─────────────┼─────────────┼─────────────┼──────────┘
                     │             │             │             │
        ┌────────────┴─────┐   ┌───┴─────┐   ┌───┴─────┐   ┌───┴─────┐
        │                  │   │         │   │         │   │         │
        ▼                  ▼   ▼         ▼   ▼         ▼   ▼         ▼
┌───────────────────────────────────────────────────────────────────────────────┐
│                          MICROSERVICES ARCHITECTURE                             │
│┌─────────────────────────────────────────────────────────────────────────────┐│
││                         STAGE 1: CORE INGESTION                              ││
││  ┌──────────────────┐    ┌──────────────────┐                               ││
││  │ Alert Ingestor   │───▶│ Alert Normalizer │                               ││
││  │ Port: 9001       │    │ Port: 9002        │                               ││
││  │ • REST/Webhook   │    │ • Parse & Format │                               ││
││  │ • Syslog/SNMP    │    │ • Validation     │                               ││
││  └────────┬─────────┘    └────────┬─────────┘                               ││
│└───────────┼──────────────────────┼───────────────────────────────────────────┘│
│            │                      │                                              │
│┌───────────┼──────────────────────┼───────────────────────────────────────────┐│
││                         STAGE 2: DATA ENRICHMENT                         ││
││  ┌──────────────────┐  ┌───────────────┐  ┌───────────────┐                 ││
││  │Context Collector │  │Threat Intel   │  │  LLM Router   │                 ││
││  │Port: 9003        │  │Aggregator     │  │Port: 9005     │                 ││
││  │• Asset Info      │  │Port: 9004     │  │• DeepSeek-V3  │                 ││
││  │• User Context    │  │• VirusTotal   │  │• Qwen3        │                 │
││  │• Network Data    │  │• Abuse.ch/OTX  │  │• Smart Route  │                 ││
││  └────────┬─────────┘  └────────┬───────┘  └───────┬───────┘                 ││
│└───────────┼──────────────────────┼──────────────────────┼───────────────────────┘│
│            │                     │                      │                        │
│┌───────────┼─────────────────────┼──────────────────────┼───────────────────────┐│
││                         STAGE 3: AI ANALYSIS                             ││
││  ┌──────────────────┐  ┌───────────────┐                                     ││
││  │   AI Triage      │  │ Similarity     │                                     ││
││  │   Agent         │  │ Search        │                                     ││
││  │  Port: 9006      │  │ Port: 9007     │                                     ││
││  │• LangChain       │  │• ChromaDB     │                                     ││
││  │• Risk Assessment │  │• Vector Search │                                     ││
││  │• Remediation     │  │• Historical   │                                     ││
││  └────────┬─────────┘  └───────────────┘                                     ││
│└───────────┼───────────────────────────────────────────────────────────────────┘│
│            │                                                                 │
│┌───────────┼───────────────────────────────────────────────────────────────────┐│
││                         STAGE 4: AUTOMATION                                ││
││  ┌──────────────────┐  ┌───────────────┐  ┌───────────────┐                   ││
││  │  Workflow       │  │ Automation    │  │ Notification  │                   ││
││  │  Engine         │  │ Orchestrator  │  │ Service      │                   │|
││  │  Port: 9008      │  │ Port: 9009     │  │ Port: 9010    │                   │|
││  │• Temporal        │  │• Playbooks    │  │• Email/Slack │                   │|
││  │• State Machine   │  │• Actions      │  │• Webhook     │                   │|
││  └────────┬─────────┘  └────────┬───────┘  └───────────────┘                   │|
│└───────────┼──────────────────────┼─────────────────────────────────────────────┘│
            │                     │                                              │
┌───────────┼─────────────────────┼─────────────────────────────────────────────┐
│                         STAGE 5: SUPPORT SERVICES                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐   │
│  │Data Analytics│  │ Reporting    │  │Configuration│  │Monitoring    │   │
│  │Port: 9011    │  │Service      │  │Service      │  │Service      │   │
│  │• Aggregation │  │Port: 9012    │  │Port: 9013    │  │Port: 9014    │   │
│  │• Trends      │  │• BI Reports  │  │• System Cfg  │  │• Prometheus  │   │
│  │• Statistics  │  │• Export      │  │• Feature Fg  │  │• Grafana     │   │
│  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘   │
└───────────────────────────────────────────────────────────────────────────────┘
└─────────────────────────────────────────────────────────────────────────────────────┘
            │
            ▼
┌───────────────────────────────────────────────────────────────────────────────────────┐
│                              DATA LAYER                                                │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │                         PostgreSQL 15                                        │  │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐                   │  │
│  │  │ alerts   │  │ users    │  │ incidents│  │ audit_*  │                   │  │
│  │  │ assets   │  │ configs  │  │ intel    │  │ workflow │                   │  │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘                   │  │
│  │                                                                                  │  │
│  │  • ACID compliance  • JSONB schemas  • UUID PKs  • pg_trgm search          │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │                         Redis Cluster                                          │  │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐                               │  │
│  │  │ Cache     │  │ Sessions  │  │ Rate Limit│                               │  │
│  │  └──────────┘  └──────────┘  └──────────┘                               │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │                         ChromaDB (Vector DB)                                   │  │
│  │  • Alert embeddings  • Intel vectors  • Semantic search                 │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │                         RabbitMQ 3.12                                        │  │
│  │  • alert.ingested  • alert.normalized  • alert.analyzed                  │  │
│  │  • workflow.events  • notification.*                                   │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
└───────────────────────────────────────────────────────────────────────────────────────┘
```

## LLM Integration & AI Routing

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                           AI/LLM ARCHITECTURE                                         │
│                                                                                      │
│  ┌────────────────────────────────────────────────────────────────────────────┐   │
│  │                        LLM Router Service (Port: 9005)                     │   │
│  │                                                                        │   │
│  │   ┌─────────────────────────────────────────────────────────────────┐    │   │
│  │   │ Alert Analysis Request                                          │    │   │
│  │   │   │                                                            │    │   │
│  │   │   ├─ Calculate Complexity Score:                               │    │   │
│  │   │   │  • Data volume (fields count)                              │    │   │
│  │   │   │  • Context depth (intel, assets)                           │    │   │
│  │   │   │  • Analysis type (score only vs full)                      │    │   │
│  │   │   │                                                            │    │   │
│  │   │   └─ Score < 5: Qwen3 (fast, cheap)                             │    │   │
│  │   │       Score ≥ 5: DeepSeek-V3 (deep reasoning)                  │    │   │
│  │   └─────────────────────────────────────────────────────────────────┘    │   │
│  └──────────────────────────────┬───────────────────────────────────────────┘   │
│                                 │                                          │
│                    ┌────────────┴────────────┐                          │
│                    │                         │                          │
│                    ▼                         ▼                          │
│  ┌───────────────────────┐    ┌──────────────────────────┐                      │
│  │    DeepSeek-V3        │    │         Qwen3            │                      │
│  │  • Deep reasoning     │    │  • Fast response          │                      │
│  │  • Complex tasks      │    │  • General analysis       │                      │
│  │  • Multi-step logic    │    │  • High throughput         │                      │
│  └───────────┬───────────┘    └───────────┬──────────────┘                      │
│              │                          │                                   │
│              └──────────┬───────────────┘                                   │
│                         ▼                                                       │
│              ┌─────────────────────────────────────┐                             │
│              │      AI Triage Agent (Port: 9006)     │                             │
│              │      • LangChain with Tools         │                             │
│              │      • Risk Scoring                 │                             │
│              │      • Remediation Planning         │                             │
│              └─────────────────────────────────────┘                             │
│                         │                                                       │
│                         ▼                                                       │
│              ┌─────────────────────────────────────┐                             │
│              │        Analysis Result              │                             │
│              │  ┌─────────────────────────────┐    │                             │
│              │  │ risk_score: 75              │    │                             │
│              │  │ risk_level: "high"          │    │                             │
│              │  │ confidence: 0.92             │    │                             │
│              │  │ summary: "..."              │    │                             │
│              │  │ analysis: "..."             │    │                             │
│              │  │ recommended: [...]          │    │                             │
│              │  └─────────────────────────────┘    │                             │
│              └─────────────────────────────────────┘                             │
│                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘
```

## Alert Processing Pipeline

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                        ALERT PROCESSING FLOW                                        │
│                                                                                      │
│  INGEST           NORMALIZE        ENRICH            TRIAGE           AUTOMATE   │
│    │                │               │                  │                │         │
│    ▼                ▼               ▼                  ▼                ▼         │
┌────────┐        ┌────────┐      ┌────────┐        ┌────────┐      ┌────────┐  │
│  Src   │───────▶│ Parser │─────▶│Context │───────▶│   AI   │──────▶│Action  │  │
│  Alert │        │ Valid  │      │ Intel  │        │Agent   │      │Exec   │  │
└────────┘        └────────┘      └────────┘        └────────┘      └────────┘  │
│                                                                                      │
│  Detailed Steps:                                                                      │
│  1. Alert Source → alert-ingestor (REST/webhook/syslog)                           │
│  2. Publish to RabbitMQ → alert-normalizer                                             │
│  3. Normalizer parses & validates → Publish → context-collector                        │
│  4. Context Collector enriches:                                                  │
│     • Fetch asset info from CMDB                                                     │
│     • Get user context                                                             │
│     • Add network/location data                                                    │
│  5. Threat Intel Aggregator checks:                                                │
│     • VirusTotal for file hashes                                                    │
│     • Abuse.ch/OTX for IOCs                                                        │
│  6. AI Triage Agent analyzes:                                                      │
│     • LLM Router selects DeepSeek-V3 or Qwen3                                      │
│     • Calculate risk score (0-100)                                                 │
│     • Determine risk level (critical/high/medium/low)                              │
│     • Generate remediation recommendations                                          │
│  7. Similarity Search finds historical patterns                                   │
│  8. Workflow Engine decides actions based on risk                                 │
│  9. Automation Orchestrator executes:                                              │
│     • Isolate host (if malware)                                                     │
│     • Block IP (if malicious)                                                       │
│     • Create ticket                                                               │
│     • Notify team                                                                 │
│                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘
```

## Security Architecture

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                           SECURITY LAYER                                               │
│                                                                                      │
│  ┌──────────────────────────────────────────────────────────────────────────────┐  │
│  │                        Authentication & Authorization                         │  │
│  │                                                                              │  │
│  │   User Request                                                               │  │
│  │        │                                                                     │  │
│  │        ▼                                                                     │  │
│  │   ┌─────────────┐                                                            │  │
│  │   │ Kong Gateway│                                                            │  │
│  │   │• JWT Check  │                                                            │  │
│  │   │• Rate Limit │                                                            │  │
│  │   └──────┬──────┘                                                            │  │
│  │          │                                                                     │  │
│  │          ▼                                                                     │  │
│  │   ┌─────────────┐     Valid Token?                                          │  │
│  │   │   Service    │───────────────┐                                          │  │
│  │   │  (FastAPI)   │               │                                          │  │
│  │   └──────┬──────┘               │                                          │  │
│  │          │                       │                                          │  │
│  │          ▼                       ▼                                          │  │
│  │   ┌─────────────────────────────────────┐                                    │  │
│  │   │  RBAC Permission Check             │                                    │  │
│  │   │  ┌─────────────────────────────┐   │                                    │  │
│  │   │  │ Role: admin │ analyst │ view │   │                                    │  │
│  │   │  │   │         │         │     │   │                                    │  │
│  │   │  │   ✓         ✓         ✗     │   │                                    │  │
│  │   │  └─────────────────────────────┘   │                                    │  │
│  │   └─────────────────────────────────────┘                                    │  │
│  │                                                                          │  │
│  └──────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌──────────────────────────────────────────────────────────────────────────────┐  │
│  │                         Data Encryption                                        │  │
│  │                                                                              │  │
│  │   Sensitive Data (in Database):                                             │  │
│  │   ┌────────────────────────────────────────────┐                            │  │
│  │   │ zhipu_api_key:     gAAAAABenc(encrypted) │                            │  │
│  │   │ deepseek_api_key:  gAAAAABenc(encrypted) │                            │  │
│  │   │ virustotal_api_key: gAAAAABenc(encrypted) │                            │  │
│  │   │ slack_webhook_url: gAAAAABenc(encrypted) │                            │  │
│  │   └────────────────────────────────────────────┘                            │  │
│  │                                                                              │  │
│  │   Encryption Method:                                                         │  │
│  │   • Algorithm: Fernet (AES-128-CBC)                                         │  │
│  │   • Key: ENCRYPTION_KEY env variable                                        │  │
│  │   • On Read: Auto-decrypt in Python code                                    │  │
│  │                                                                              │  │
│  └──────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘
```

## Technology Stack

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                         TECH STACK SUMMARY                                             │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │  FRONTEND                                                                    │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                         │  │
│  │  │ React 18    │  │ TypeScript  │  │ Tailwind CSS│                         │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘                         │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                         │  │
│  │  │ Vite        │  │ Recharts    │  │ Lucide Icons│                         │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘                         │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │  BACKEND                                                                     │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                         │  │
│  │  │ Python 3.11 │  │ FastAPI     │  │ Pydantic v2 │                         │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘                         │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                         │  │
│  │  │ AsyncIO     │  │ LangChain   │  │ SQLAlchemy  │                         │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘                         │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │  DATA STORES                                                                 │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌───────────────┐  │  │
│  │  │PostgreSQL 15│  │ Redis 7     │  │ ChromaDB    │  │ RabbitMQ 3.12 │  │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └───────────────┘  │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌───────────────┐  │  │
│  │  │ ACID, JSONB │  │ Cache, Pub  │  │ Vector DB   │  │ AMQP, DLQ    │  │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └───────────────┘  │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │  AI/ML                                                                      │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                         │  │
│  │  │ LangChain   │  │ ZhipuAI     │  │ DeepSeek-V3 │                         │  │
│  │  │ Agents      │  │ (智谱AI)   │  │ (MaaS)      │                         │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘                         │  │
│  │  ┌─────────────┐  ┌─────────────┐                                         │  │
│  │  │ Qwen3       │  │ OpenAI      │                                         │  │
│  │  │ (通义千问)  │  │ (optional)  │                                         │  │
│  │  └─────────────┘  └─────────────┘                                         │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │  INFRASTRUCTURE                                                              │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                         │  │
│  │  │ Docker      │  │ K8s (Prod) │  │ Prometheus  │                         │  │
│  │  │ Compose     │  │            │  │ Grafana     │                         │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘                         │  │
│  │  ┌─────────────┐  ┌─────────────┐                                         │  │
│  │  │ Kong        │  │ Jaeger      │                                         │  │
│  │  │ Gateway     │  │ Tracing     │                                         │  │
│  │  └─────────────┘  └─────────────┘                                         │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘
```

## Service Dependencies

```
                        ┌─────────────────────┐
                        │   Kong API Gateway   │◄───────── HTTP/HTTPS
                        │    (Port: 8000)      │
                        └──────────┬──────────┘
                                   │
                ┌──────────────────┼──────────────────┐
                │                  │                  │
                ▼                  ▼                  ▼
        ┌───────────────┐ ┌───────────────┐ ┌───────────────┐
        │ Web Dashboard │ │ Alert Ingestor│ │ Data Analytics│
        │   (React)     │ │  (FastAPI)    │ │  (FastAPI)    │
        └───────────────┘ └───────┬───────┘ └───────────────┘
                                    │
                    ┌───────────────┴───────────────┐
                    │        RabbitMQ              │
                    │    (Port: 5672)             │
                    └───────────────┬───────────────┘
                                    │
        ┌───────────────────────┼───────────────────────┐
        │                       │                       │
        ▼                       ▼                       ▼
┌───────────────┐   ┌───────────────┐   ┌───────────────┐
│ Alert Normal │   │Context       │   │Threat Intel   │
│    izer      │   │Collector     │   │Aggregator    │
└───────┬──────┘   └───────┬───────┘   └───────┬───────┘
        │                  │                   │
        └──────────────────┼───────────────────┘
                           │
                ┌──────────┴──────────┐
                │                     │
                ▼                     ▼
        ┌───────────────┐   ┌───────────────┐
        │  LLM Router    │   │ Similarity     │
        └───────┬───────┘   │   Search      │
                │           └───────┬───────┘
                ▼                   │
        ┌───────────────┐          │
        │  AI Triage     │          │
        │    Agent       │◄─────────┘
        └───────┬───────┘
                │
                ▼
        ┌───────────────┐
        │  Workflow      │
        │   Engine       │
        └───────┬───────┘
                │
                ▼
        ┌───────────────┐
        │  Automation    │
        │ Orchestrator  │
        └───────┬───────┘
                │
                ▼
        ┌───────────────┐
        │ Notification  │
        │   Service     │
        └───────────────┘

Legend:
  ──  Direct HTTP call
  ──  Message Queue (async)
  ──  Dependency
```

## Monitoring Stack

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                       MONITORING & OBSERVABILITY                                    │
│                                                                                      │
│  Metrics Collection:                                                           │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐                     │
│  │   Services  │  │ Database   │  │   Queue    │  │   Custom   │                     │
│  │   • CPU     │  │   • Query  │  │   • Depth  │  │   • Alert  │                     │
│  │   • Memory  │  │   • Cache  │  │   • Rate   │  │   • MTTR   │                     │
│  │   • Req Rate│  │   • Conn   │  │   • Ack    │  │   • Risk   │                     │
│  └──────┬─────┘  └──────┬─────┘  └──────┬─────┘  └──────┬─────┘                     │
         │                 │                 │                 │                         │
         └─────────────────┴─────────────────┴─────────────────┴─────────┘                             │
                                     │                                          │
                                     ▼                                          │
         ┌─────────────────────────────────────────────────────┐                       │
         │              Prometheus (Port: 9090)              │                       │
         │         • Metrics storage (90 days)              │                       │
         └───────────────────────────┬─────────────────────┘                       │
                                     │                                          │
                                     ▼                                          │
         ┌─────────────────────────────────────────────────────┐                       │
         │              Grafana (Port: 3000)                 │                       │
         │         • System Health Dashboard               │                       │
         │         • Service Metrics                       │                       │
         │         • Business Metrics                      │                       │
         └─────────────────────────────────────────────────────┘                       │
│                                                                                      │
│  Distributed Tracing:                                                            │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │                      Jaeger (Distributed Tracing)                           │  │
│  │         • Request trace across services                                    │  │
│  │         • Service dependency map                                             │  │
│  │         • Latency analysis                                                  │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
│  Logging:                                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────────┐  │
│  │                      ELK Stack (Elasticsearch, Logstash, Kibana)               │  │
│  │         • Centralized logging                                              │  │
│  │         • Log aggregation & search                                         │  │
│  │         • Audit trail                                                       │  │
│  └─────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘
```

## Quick Reference

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                       QUICK REFERENCE                                                │
├──────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                      │
│  Service Ports:                                                                       │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ Web Dashboard:  :3000        Kong Gateway:      :8000                            │   │
│  │ Alert Ingestor:  :9001        Alert Normalizer: :9002                            │   │
│  │ Context Collector: :9003       Threat Intel:     :9004                            │   │
│  │ LLM Router:      :9005        AI Triage Agent:  :9006                            │   │
│  │ Similarity Search: :9007       Workflow Engine:   :9008                            │   │
│  │ Automation Orch:   :9009        Notification:     :9010                            │   │
│  │ Data Analytics:   :9011        Reporting:        :9012                            │   │
│  │ Configuration:    :9013        Monitoring:       :9014                            │   │
│  │ PostgreSQL:      :5434        Redis:            :6381                            │   │
│  │ RabbitMQ:        :5673        ChromaDB:         :8001                            │   │
│  │ Prometheus:      :9090        Grafana:          :3000 (mapped)               │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                      │
│  Database URLs:                                                                     │
│  • PostgreSQL: postgresql+asyncpg://triage_user:pass@localhost:5434/security_triage     │
│  • Redis:      redis://:pass@localhost:6381/0                                     │
│  • RabbitMQ:   amqp://admin:pass@localhost:5673/                                   │
│  • ChromaDB:   http://localhost:8001                                               │
│                                                                                      │
│  Environment Variables:                                                               │
│  • DATABASE_URL=postgresql+asyncpg://...                                          │
│  • REDIS_URL=redis://:password@host:6379/0                                       │
│  • RABBITMQ_URL=amqp://user:pass@host:5672/                                      │
│  • JWT_SECRET_KEY=your-secret-key                                                  │
│  • ENCRYPTION_KEY=your-32-byte-key                                                │
│  • ZHIPUAI_API_KEY=your-zhipu-key                                                  │
│  • DEEPSEEK_API_KEY=your-deepseek-key                                              │
│  • QWEN_API_KEY=your-qwen-key                                                      │
│                                                                                      │
│  Default Users:                                                                     │
│  • admin / Admin123 (admin role)                                                  │
│  • analyst / analyst123 (analyst role)                                            │
│                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘
```

---

**Version**: 1.0-ASCII
**Last Updated**: 2026-01-28
**Total Services**: 15 microservices
**Technology**: Python, React, PostgreSQL, Redis, RabbitMQ, ChromaDB
